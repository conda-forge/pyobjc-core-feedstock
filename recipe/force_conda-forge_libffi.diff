diff --git a/pyobjc-core/setup.py b/pyobjc-core/setup.py
index 6183ba97e..89e656fca 100644
--- a/pyobjc-core/setup.py
+++ b/pyobjc-core/setup.py
@@ -130,6 +130,24 @@ if "-O0" in get_config_var("CFLAGS"):
             config_vars[k] = config_vars[k].replace("-O0", "-O1")
 
 
+if "-Wl" in get_config_var("CFLAGS"):
+    # some Python versions have "-Wl,-export_dynamic" present, causing
+    # Clang to complain
+    print("PATCH: remove linker flags...")
+    config_vars = get_config_vars()
+    for k in ('CFLAGS', 'CPPFLAGS'):
+        if isinstance(config_vars[k], str) and "-Wl" in config_vars[k]:
+            flags = config_vars[k].split()
+            new_flags = []
+            for f in flags:
+                if f.startswith("-Wl"):
+                    continue
+                else:
+                    new_flags.append(f)
+            config_vars[k] = ' '.join(new_flags)
+            print("  ...fixed:", k, ' '.join(new_flags))
+
+
 if get_config_var("Py_DEBUG"):
     # Running with Py_DEBUG, reduce optimization level
     # to make it easier to debug the code.
@@ -550,6 +568,11 @@ class oc_build_ext(build_ext.build_ext):
             cflags = cflags.replace("-mno-fused-madd", "")
             get_config_vars()["CFLAGS"] = cflags
 
+        ldflags = get_config_var("LDFLAGS")
+        if "-Wl,-dead_strip_dylibs" in ldflags:
+            ldflags = ldflags.replace("-Wl,-dead_strip_dylibs", "")
+            get_config_vars()["LDFLAGS"] = ldflags
+
         CFLAGS.append(
             "-DPyObjC_BUILD_RELEASE=%02d%02d"
             % (tuple(map(int, get_sdk_level(self.sdk_root).split("."))))
